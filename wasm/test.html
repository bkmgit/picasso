<!DOCTYPE html>
<html>
<head>
  <title>Picasso Test</title>
  <script src="./lib.js" type="module"></script>
</head>
<body>
    <canvas id="canvas" width="640" height="480"/>
    <script type="module">
        import Picasso from './lib.js';

        var h5canvas = document.getElementById("canvas");

        var p = new Picasso();
        p.init(h5canvas, (ps) => {
            // get main picasso canvas object.
            var canvas = ps.canvas;
            var ctx = ps.createContext(canvas);


            function draw(time) {

                //let c = 0xFF0000FF;
                ctx.setSourceColor(255, 0, 0, 1.0);
               // ctx.rectangle(100, 100, 200, 300);
                let rc = {x:50, y:50, w:100, h:100};
                ctx.rectangle(rc);
                ctx.fill();

                let rrc = {x:200, y:50, w:100, h:100, ltx:10, lty:10, rtx:10, rty:10};
                let c = {r:0, g:1, b:0, a:1};
                ctx.setSourceColor(c); 
                ctx.roundedRect(rrc);
                ctx.fill();


                //ctx.stroke();
                //ctx.paint();
                canvas.flush();
                window.requestAnimationFrame(draw);
            }

            window.requestAnimationFrame(draw);
        });

    </script>
</body>
</html>
